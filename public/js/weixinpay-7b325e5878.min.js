!function(){var t=function(t){var e=new XMLHttpRequest;e.timeout=t.timeout||1e4,e.responseType=t.dataType||"json",e.open(t.method||"GET",t.url,!0),e.onload=function(e){200!=this.status&&304!=this.status||t.success(this.response)},e.ontimeout=function(e){t.error(e)},e.onerror=function(e){t.error(e)},e.send(t.data)},e={jsApiList:["chooseWXPay"]};t({url:"/wechat/api/jsconfig",data:JSON.stringify(e),dataType:"json",method:"POST",success:function(t){wx.config(t)},error:function(t){console.log(t)}}),document.getElementById("pay").addEventListener("click",function(){var e=document.getElementById("pay").getAttribute("origin");t({url:"/wechat/api/getOrder/"+e,dataType:"json",method:"GET",success:function(t){t.success=function(){window.location.href="/success"},wx.chooseWXPay(t)},error:function(t){}})})}();